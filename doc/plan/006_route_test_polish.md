# 006: 同步路线映射规则测试功能优化

## 1. 目标
解决“测试匹配”功能描述不清、永远显示“无匹配”的问题，并辅助规则添加。

## 2. 功能描述
- **清晰说明**: 告知用户测试路径应相对于源仓库根目录（例如输入 `src/index.ts` 而非完整物理路径）。
- **逻辑修复**: 确保前端发送的参数和后端 `test_route_mapping` 的解析逻辑匹配。
- **辅助增强**: 如果测试的路径没有被当前任何规则捕捉，引导用户将其添加为“Copy”或“Ignore”规则。

## 3. 开发任务分解

### 3.1 UI 改进 (RouteDetail.vue)
- [ ] **添加指导性文本**: 
  - 在测试输入框上方添加一段简短的说明文字。
  - 示例：“请输入源仓库中的相对路径（如 src/main.js）来验证映射规则。”
- [ ] **优化结果展示**:
  - 如果匹配成功，高亮显示匹配到的规则（索引），并显示预期的映射目标路径。
  - 如果匹配失败，显示一个显眼的“未捕获”警告。

### 3.2 逻辑修复与联动
- [ ] **后端校验逻辑检查**: 
  - 确认 `commands/route.rs` 中的 `test_route_mapping` 处理 Glob 的方式是否正确。
  - 处理 `**/*` 等通配符的边缘情况。
- [ ] **快捷添加规则**:
  - 当路径无匹配时，显示一个按钮“添加此路径为规则”。
  - 点击后，自动在映射表格中新增一行，填充其 Source。

### 3.3 国际化
- [ ] **补全词条**:
  - `route.mapping.test_desc`: "验证相对路径是否符合规则"
  - `route.mapping.add_this_path`: "为此路径创建规则"
  - `route.test.result_target`: "目标位置: {path}"

## 4. 验收标准
- [ ] 输入已定义规则匹配的路径，能正确返回“匹配规则 #X”及目标路径。
- [ ] 输入不匹配的路径，系统提示无匹配，并提供快捷添加按钮。
- [ ] 测试面板中拥有清晰的操作指引，用户不会迷茫输入什么。
