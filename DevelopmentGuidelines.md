# 🧭 开发规范（Development Guidelines）

本文档用于规范项目开发流程，确保团队成员在不同阶段保持一致的代码风格与工作标准。

---

## 📘 1. 设计文档规范

* 所有历史版本的设计文档均存放于：

  ```
  /doc/design
  ```
* 开发前请查阅该目录下的设计文档。
* 请根据设计文档理解项目的走向及开发目标

---

## 🗄️ 2. 数据库结构规范

* 数据库结构以实体类结构为准

---

## 🧩 3. 数据库变更规范

* 修改数据库结构（新增字段、调整表结构等）时，必须使用 **Drift Migration** 机制：

  * 更新 `schemaVersion`
  * 编写 `onUpgrade` 迁移逻辑
  * 保证数据安全与向前兼容

---

## 🗂️ 4. 任务执行与归档规范

### 开发任务流程：

1. 开发前获取待执行任务：

   ```
   /doc/plan/
   ```

   * 每个 `.md` 文件为单个任务，需要按照文件名顺序执行。

2. 若无可执行任务，立即告知负责人并终止操作。

3. 每次开发仅执行一个任务文件的全部任务：

   * 在任务开始前填写 **开始时间**（东八区，Asia/Shanghai）。
   * 任务完成后填写 **结束时间**，并移动至归档目录：

     ```
     /doc/plan/archive/YYYY-MM-DD/{taskName}
     ```

4. 完成归档后方可提交代码。

---

## 💬 5. 代码注释规范

* 所有代码必须使用 **中文注释**。
* 注释需简洁、清晰，说明逻辑目的、参数含义及特殊处理。
* 推荐格式示例：

```
// 功能：根据路径生成文件差异报告
// 参数：source - 主路径；target - 从路径
// 返回：差异对象列表
```

---

## ✅ 6. 提交前检查清单

* [ ] 确认遵循最新设计文档
* [ ] 数据库结构与版本变更符合 Drift 迁移规范
* [ ] 所有任务已填写时间并归档
* [ ] 代码注释完整且为中文
* [ ] git commit 时的描述需要使用中文